{% extends "base.html" %}

{% block title %}Referral Program - Earn $75 Per Sale | Pool Care Premier{% endblock %}

{% block content %}
<!-- Hero Section for Referral Program -->
<section class="hero-lead" style="min-height: auto; padding: 140px 2rem 60px;">
    <div class="hero-content-lead">
        <h1><span class="brand-name">Referral Program</span></h1>
        <h2 class="hero-headline">Earn $75 Per Referral</h2>
        <p class="hero-subtitle">Fill out the form with a referral to someone and a close earns $75.</p>
    </div>
</section>

<!-- Referral Form Section -->
<section id="referral-form" class="contact-form-section">
    <div class="form-container-optimized">
        <div class="form-header-optimized">
            <div class="form-offer-badge">
                <span class="badge-value">ðŸ’° Earn $75 Per Close</span>
            </div>
            <h2>Submit a Referral</h2>
            <p class="form-subtitle">Fill out the form below with your information and the person you're referring. When they sign up, you earn $75.</p>
        </div>

        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}" id="success-message">
                        <i class="fas fa-check-circle"></i>
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <form action="{{ url_for('referral_submit') }}" method="POST" class="lead-form-optimized" aria-label="Referral submission form">
            <div class="form-grid-qualified">
                <div class="form-field-simple">
                    <label for="referrer_name" class="sr-only">Your Full Name</label>
                    <input 
                        type="text" 
                        id="referrer_name" 
                        name="referrer_name" 
                        placeholder="Your Full Name*" 
                        required 
                        minlength="2"
                        autocomplete="name"
                        aria-required="true">
                </div>

                <div class="form-field-simple">
                    <label for="referrer_phone" class="sr-only">Your Phone Number</label>
                    <input 
                        type="tel" 
                        id="referrer_phone" 
                        name="referrer_phone" 
                        placeholder="Your Phone Number*" 
                        required 
                        pattern="[\(\d{3}\)\ \d{3}-\d{4}|\d{10}]"
                        autocomplete="tel"
                        aria-required="true">
                </div>

                <div class="form-field-simple">
                    <label for="referrer_email" class="sr-only">Your Email Address</label>
                    <input 
                        type="email" 
                        id="referrer_email" 
                        name="referrer_email" 
                        placeholder="Your Email Address*" 
                        required 
                        autocomplete="email"
                        aria-required="true">
                </div>

                <div class="form-field-simple">
                    <label for="referrer_address" class="sr-only">Your Address</label>
                    <input 
                        type="text" 
                        id="referrer_address" 
                        name="referrer_address" 
                        placeholder="Your Address*" 
                        required 
                        minlength="5"
                        autocomplete="street-address"
                        aria-required="true">
                </div>

                <div class="form-field-simple full-width" style="margin-top: 1rem; padding-top: 1.5rem; border-top: 2px solid var(--gray-100);">
                    <h3 style="font-size: 1.3rem; color: var(--darkest); margin-bottom: 1rem; text-align: center;">Referral Information</h3>
                </div>

                <div class="form-field-simple">
                    <label for="referral_name" class="sr-only">Referral's Name</label>
                    <input 
                        type="text" 
                        id="referral_name" 
                        name="referral_name" 
                        placeholder="Referral's Name*" 
                        required 
                        minlength="2"
                        aria-required="true">
                </div>

                <div class="form-field-simple">
                    <label for="referral_phone" class="sr-only">Referral's Phone Number</label>
                    <input 
                        type="tel" 
                        id="referral_phone" 
                        name="referral_phone" 
                        placeholder="Referral's Phone Number*" 
                        required 
                        pattern="[\(\d{3}\)\ \d{3}-\d{4}|\d{10}]"
                        aria-required="true">
                </div>

                <div class="form-field-simple">
                    <label for="referral_email" class="sr-only">Referral's Email Address</label>
                    <input 
                        type="email" 
                        id="referral_email" 
                        name="referral_email" 
                        placeholder="Referral's Email Address*" 
                        required 
                        aria-required="true">
                </div>

                <div class="form-field-simple">
                    <label for="referral_address" class="sr-only">Referral's Address</label>
                    <input 
                        type="text" 
                        id="referral_address" 
                        name="referral_address" 
                        placeholder="Referral's Address*" 
                        required 
                        minlength="5"
                        aria-required="true">
                </div>

                <div class="form-field-simple full-width">
                    <label for="payment_method" class="sr-only">Preferred Payment Method</label>
                    <select 
                        id="payment_method" 
                        name="payment_method" 
                        required 
                        aria-required="true">
                        <option value="">Preferred Payment Method*</option>
                        <option value="zelle">Zelle</option>
                        <option value="cash">Cash</option>
                    </select>
                </div>
            </div>

            <button type="submit" class="submit-button-mega" aria-label="Submit referral form">
                <span class="button-text">Submit Referral</span>
                <i class="fas fa-arrow-right" aria-hidden="true"></i>
            </button>

            <p class="form-footer-trust">
                <i class="fas fa-lock" aria-hidden="true"></i> Your information is secure. You'll earn $75 when your referral signs up.
            </p>
        </form>
    </div>
</section>
{% endblock %}
